<!DOCTYPE html>
<html lang="en-us">
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="description" content="PhD Candidate, Political Science, University of Wisconsin–Madison">
<meta name="keywords" content="[political science wisconsin]">

<base href="/">

<title>Michael DeCrescenzo</title>

<meta name="generator" content="Hugo 0.31.1" />





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400|Roboto+Slab:400,700|Roboto:300,300i,400,400i,500,500i,700,700i">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/main.css">




<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="theme-color" content="#ffffff">

</head>
<body lang="en-us">
<div class="container">


<header class="row text-left title">
  <h1 class="title">Day 2: Graphics</h1>
</header>
<section id="category-pane" class="row meta">
  
  <div class="col-md-12">
    <h6 class="text-left meta">
        UPDATED FEB 1, 2018 
      
      
      
      —
      
      
      <a class="meta" href="/categories/ps553">PS553</a>, 
      
      <a class="meta" href="/categories/r">R</a>, 
      
      <a class="meta" href="/categories/teaching">TEACHING</a>
      
      
      
    </h6>
  </div>
  
</section>
<section id="content-pane" class="row">
  <div class="col-md-12 text-justify content">
    <div id="sarah" class="section level1">
<h1>Sarah</h1>
<ul>
<li>why</li>
<li>helpful to see what the data look like</li>
<li>tell persuasive stories</li>
<li>important that you know relevant features of the data</li>
<li>shape of the data indicate appropriate modeling
<ul>
<li><em>long right tails, logging</em></li>
</ul></li>
<li>Understanding data</li>
<li><em>know thy data</em></li>
<li>unit of analysis</li>
<li>number of observations</li>
<li>where is there variation</li>
<li>units of measurement</li>
<li>values within variable</li>
<li>missing data</li>
<li>relationships among variables</li>
<li>summary statistics</li>
<li><code>summary, cor, quantile</code></li>
<li><code>table()</code></li>
<li><code>group_by() %&gt;% summarize()</code></li>
<li><code>group.CI()</code> or whatever it’s called</li>
<li>simple base plots</li>
<li>scatterplots</li>
<li>histograms</li>
<li>kernel density estimation</li>
<li><em>transition to ggplot</em></li>
<li><em>data, axis aesthetics, geoms, scales, theme options</em></li>
<li><em>ggplot() and qplot() functions. qplot() is just confusing IMO</em></li>
<li><em>justify gglot</em>
<ul>
<li><em>more with less code</em></li>
<li><em>grouping</em></li>
<li><em>faceting</em></li>
<li><em>legends</em></li>
<li><em>prevents you from doing stupid shit</em></li>
<li>multiple y axes</li>
<li>bad aesthetic choices (multiple DVs at once)</li>
<li><em>saving is easier</em></li>
<li><em>they look better</em></li>
<li><em>easy to customize your own cute theme (help guides online but don’t include a link [don’t want them to get sidetracked] but don’t overdo it)</em></li>
</ul></li>
<li><em>once in GGplot</em></li>
<li>scatterplots (two continuous)</li>
<li>dot plots (factor x continuous) <em>replace bar plots</em></li>
<li>line graphs (two continuous where order matters, need to be sorted)</li>
<li>don’t use pie charts
<ul>
<li><em>anything in a pie chart should be a bar graph</em></li>
</ul></li>
<li>bar graphs
<ul>
<li><em>only things in a bar graphs should be counts and proportions, IMO</em></li>
<li><em>stacks of things that have a zero lower bound</em></li>
<li><em>don’t use them for 1-5 scales</em></li>
<li><em>IMO don’t use them for treatment effects. This makes no sense</em></li>
<li><em>they also make you use error bars on top of columns for CIs, which looks fugly IMO</em></li>
</ul></li>
<li><em>coefficient plots (wait on this?)</em></li>
<li><em>acf pacf</em> with some package</li>
<li>aesthetic choices</li>
<li>contrasting colors may be bad for colorblindness</li>
<li>gradients of the same color may be good for computer screens, but maybe not for print or shitty projectors</li>
<li>does the journal accept color? might want to think about ways around color</li>
<li>resources
<ul>
<li><a href="http://mkweb.bcgsc.ca/colorblind/" class="uri">http://mkweb.bcgsc.ca/colorblind/</a></li>
<li><a href="http://www.somersault1824.com/tips-for-designing-scientific-figures-for-color-blind-readers/" class="uri">http://www.somersault1824.com/tips-for-designing-scientific-figures-for-color-blind-readers/</a></li>
<li><a href="http://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3" class="uri">http://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3</a></li>
<li><a href="http://ggplot2.tidyverse.org/reference/scale_brewer.html" class="uri">http://ggplot2.tidyverse.org/reference/scale_brewer.html</a></li>
<li><code>viridis</code>! <em>but don’t overdo it</em></li>
</ul></li>
<li>saving</li>
<li>base
<ul>
<li><code>pdf(&quot;file.pdf&quot;, width =, height =); par(whatever); plot(whatever); dev.off()</code></li>
</ul></li>
<li>ggplot
<ul>
<li><code>ggplot(whatever); ggsave(whatever, width =, height =)</code></li>
</ul></li>
<li>Complex data analysis</li>
<li><em>note to self: learn about arm, rms</em>
<ul>
<li><em>if you don’t get to this, just say that you don’t do regressions that much, and you don’t do frequentist regression when you do, LOL</em></li>
</ul></li>
<li>regression functions
<ul>
<li>transform within function call (logs, interaction, factor dummies)</li>
</ul></li>
<li>glms
<ul>
<li>ols: y = (XB)</li>
<li>glm: link(y) = XB; y = inv_link(XB)</li>
<li>logit(p(y)) = XB. invlogit(XB) = p(y)</li>
</ul></li>
<li>interpreting model output</li>
<li>generating model output
<ul>
<li>table packages</li>
<li>list: <a href="https://stackoverflow.com/questions/5465314/tools-for-making-latex-tables-in-r" class="uri">https://stackoverflow.com/questions/5465314/tools-for-making-latex-tables-in-r</a></li>
<li>stargazer: <a href="https://cran.r-project.org/web/packages/stargazer/vignettes/stargazer.pdf" class="uri">https://cran.r-project.org/web/packages/stargazer/vignettes/stargazer.pdf</a></li>
<li>apsrtable: <a href="https://cran.r-project.org/web/packages/apsrtable/apsrtable.pdf" class="uri">https://cran.r-project.org/web/packages/apsrtable/apsrtable.pdf</a></li>
<li><em>I like xtable and texreg</em></li>
<li>there are pros and cons. Some are better for regression, summary statistics, just other tables you might make (xtable)</li>
<li><code>arm::coefplot</code></li>
<li><code>coefplot</code> package</li>
<li><code>coefplot2</code></li>
<li>I’d say: coefplots by hand using <code>broom</code> and <code>ggplot2</code>. Easy for jamming multiple models together</li>
<li><a href="http://varianceexplained.org/r/broom-intro/" class="uri">http://varianceexplained.org/r/broom-intro/</a></li>
<li><a href="https://arxiv.org/pdf/1412.3565.pdf" class="uri">https://arxiv.org/pdf/1412.3565.pdf</a></li>
<li><em>I’ve seen people do coefplots using base graphics and it’s like half the entire file. It’s fugly</em></li>
</ul></li>
<li>marginal effects
<ul>
<li>effects</li>
<li>zelig</li>
<li><em>sjplot</em></li>
</ul></li>
<li>post-estimation
<ul>
<li>residuals</li>
<li>(most models: normal on the index. OLS index = link)</li>
<li><em>Log Likelihood</em> (coef.test? where are there model things for GLMs?)</li>
<li><em>information criteria: AIC, WAIC</em></li>
<li>meant to estimate out-of-sample performance</li>
<li>see McElreath videos</li>
<li>since every fit is a combination of true + noise (even assuming perfect model)</li>
<li>don’t BIC</li>
<li>neither Bayesian nor IC</li>
</ul></li>
</ul>
<p>Improving on Sarah</p>
<ul>
<li>how tidy data becomes good for ggplot</li>
<li>stacking factors for grouping aesthetics</li>
<li>nail grouping as a benefit</li>
<li>if you have multiple countries, multiple states, multiple datasets</li>
<li>you <em>can</em> gather multiple DVs, but then you can’t get different axis labels, so do this only for private use OR with conceptually related variables for public use
<ul>
<li><em>use var-ecm graphic as a bad example</em></li>
</ul></li>
<li>What to do about model graphics</li>
<li>a simple regression example</li>
<li>use broom for coefficient plot</li>
<li>sjplot for a simple marginal effects?</li>
<li>broom: learn how <code>glance</code> works</li>
<li><code>predict(new.data)</code></li>
<li>effects?</li>
<li>margins?</li>
<li>arm?</li>
<li>rms?</li>
<li><em>and then save complex predictions for modeling day?</em></li>
<li>Other graphics tips</li>
<li>confidence interval things:
<ul>
<li>steep change look like narrow confidence intervals</li>
<li>confidence intervals are <em>vertical</em> for a given x value (find tumblr example)</li>
</ul></li>
<li>log(0)
<ul>
<li>are they counts? use a count model instead of a log</li>
<li>are they unequal probability? use an ordinal model</li>
</ul></li>
<li>stata vs R</li>
<li>if you have a simple OLS or GLM and want to do a simple prediction or simple MFX, Stata does this pretty well</li>
<li>R is way better for visualizing multiple models together (tidy data, broom, ggplot)</li>
</ul>
</div>
<div id="brief-introduction-to-base-graphics" class="section level1">
<h1>Brief Introduction to Base Graphics</h1>
<div id="basic-plotting" class="section level2">
<h2>Basic plotting</h2>
<p><code>plot()</code></p>
<p><code>hist()</code></p>
<p>Bar charts, box plots, all easier in other software</p>
</div>
<div id="some-handy-tools" class="section level2">
<h2>some handy tools</h2>
<p>pch</p>
<p>linetype</p>
</div>
</div>
<div id="graphics-packages-pros-and-cons" class="section level1">
<h1>Graphics packages, pros and cons</h1>
</div>
<div id="ggplot2" class="section level1">
<h1>ggplot2</h1>
<div id="aesthetics" class="section level2">
<h2>aesthetics</h2>
</div>
<div id="geoms" class="section level2">
<h2>geoms</h2>
</div>
<div id="scales" class="section level2">
<h2>scales</h2>
</div>
<div id="themes-and-theme-elements" class="section level2">
<h2>themes and theme elements</h2>
</div>
<div id="dos-and-donts" class="section level2">
<h2>Dos and Don’ts</h2>
<p>Multiple Y axes</p>
</div>
</div>
<div id="examples-using-ggplot2" class="section level1">
<h1>Examples using ggplot2</h1>
</div>
<div id="out-there-things" class="section level1">
<h1>out there things</h1>
<p>heatmaps, network stuff (ggraph), see drob posts</p>
<p>patchwork, ggforce, (?)ggproto, all the pederson stuff</p>
</div>
<div id="graphics-packages-revisited" class="section level1">
<h1>Graphics packages revisited</h1>
</div>

  </div>
</section>
<section id="tag-pane" class="row meta">
  
  <div class="col-md-12">
    <h6 class="text-right meta">
      
      
      
      
    </h6>
  </div>
  
</section>








<section id="menu-pane" class="row menu text-center">
  
  
  <span><a class="menu-item" href="/ps-553/811-day2-graphics/">&lt; prev | </a></span>
  
  
  <span><a class="menu-item" href="/PS-553">ps-553</a></span>
  
  
  <span><a class="menu-item" href="/ps-553/553-day3-analysis/"> | next &gt;</a></span>
  
  

  <section id="main-menu-pane" class="row text-center main-menu">
  <h4 class="text-center"><a class="menu-item" href="/">&nbsp;&nbsp;Home&nbsp;&nbsp;</a>
   
  <a class="menu-item" href="/about/">&nbsp;&nbsp;About&nbsp;&nbsp;</a>
  
  <a class="menu-item" href="/research/">&nbsp;&nbsp;Research&nbsp;&nbsp;</a>
  
  <a class="menu-item" href="/teaching/">&nbsp;&nbsp;Teaching&nbsp;&nbsp;</a>
  
  <a class="menu-item" href="/code/">&nbsp;&nbsp;Code&nbsp;&nbsp;</a>
  
  <a class="menu-item" href="/post/">&nbsp;&nbsp;Blog&nbsp;&nbsp;</a>
  
  <a class="menu-item" href="/contact/">&nbsp;&nbsp;Contact&nbsp;&nbsp;</a>
  </h4>
</section>
</section>




<footer class="row text-center footer">
  <hr />
  
  <h6 class="text-center copyright">© 2017 Michael DeCrescenzo. <a href="http://creativecommons.org/licenses/by/3.0/">Some rights reserved</a>.</h6>
  
  <h6 class="text-center powered">Powered by <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/shenoybr/hugo-goa">Goa</a>.</h6>
  
  
</footer>

</div>









<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="js/main.js"></script>
</body>
</html>


