<!DOCTYPE html>
<html lang="en-us">
  <head>

  

  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Michael DeCrescenzo">
  <meta name="description" content="Ph.D. Candidate, Political Science, University of Wisconsin–Madison">
  <meta name="keywords" content="political science, university of wisconsin madison, uw madison">
  
  <link rel="prev" href="/2019/2019-02-23_gerber-green-kaplan/" />
  <link rel="next" href="/2019/2019-05-07_effect-distributions/" />
  <link rel="canonical" href="/2019/2019-03-21_bayesian-wait-times/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/site/apple-touch-icon.png">
  <link rel="icon" href="/images/site/favicon-area-chart.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/site/favicon-area-chart.ico" type="image/x-icon">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Bayesian Estimates of Wait Times at the Polls | Michael DeCrescenzo
       
  </title>
  <meta name="title" content="Bayesian Estimates of Wait Times at the Polls | Michael DeCrescenzo">
    

  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "/"
    },
    "articleSection" : "posts",
    "name" : "Bayesian Estimates of Wait Times at the Polls",
    "headline" : "Bayesian Estimates of Wait Times at the Polls",
    "description" : "A Different Approach to a Familiar Topic",
    "inLanguage" : "en-us",
    "author" : "Mike DeCrescenzo",
    "creator" : "Mike DeCrescenzo",
    "publisher": "Mike DeCrescenzo",
    "accountablePerson" : "Mike DeCrescenzo",
    "copyrightHolder" : "Mike DeCrescenzo",
    "copyrightYear" : "2019",
    "datePublished": "2019-03-21 00:00:00 &#43;0000 UTC",
    "dateModified" : "2019-03-21 00:00:00 &#43;0000 UTC",
    "url" : "/2019/2019-03-21_bayesian-wait-times/",
    "wordCount" : "625",
    "keywords" : [ "Election Administration","Bayesian statistics", "Michael DeCrescenzo"]
}
</script>

  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\\[','\\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>
  
<script type="text/javascript">
var sc_project=11382424; 
var sc_invisible=1; 
var sc_security="647b3843"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>
<noscript><div class="statcounter"><a title="Web Analytics
Made Easy - StatCounter" href="http://statcounter.com/"
target="_blank"><img class="statcounter"
src="//c.statcounter.com/11382424/0/647b3843/1/" alt="Web
Analytics Made Easy - StatCounter"></a></div></noscript>


</head>

  


  <body class="">
    <div class="wrapper">
        

<nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
         <a href="/">Home</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/research/" title="">Research</a>
                
                <a class="menu-item" href="/teaching/" title="">Teaching</a>
                
                <a class="menu-item" href="/code/" title="">Code</a>
                
                <a class="menu-item" href="/contact/" title="">Contact</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="/">Michael DeCrescenzo</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/research/" title="">Research</a>
                
                <a class="menu-item" href="/teaching/" title="">Teaching</a>
                
                <a class="menu-item" href="/code/" title="">Code</a>
                
                <a class="menu-item" href="/contact/" title="">Contact</a>
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
        </div>
    </div>
</nav>


    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Bayesian Estimates of Wait Times at the Polls</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="/" rel="author">Mike DeCrescenzo</a>
                <span class="post-time">
                on <time datetime=2019-03-21 itemprop="datePublished">March 21, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="/categories/methods/"> Methods </a>
                        <a href="/categories/american-politics/"> American Politics </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <p>Charles Stewart <a href="https://twitter.com/cstewartiii/status/1108130166381912064">tweeted</a> some figures on the estimated average wait time to vote in 2018 (compared to 2014 and 2016). These data come from the CCES and the SPAE. Interestingly, neither of these surveys are able to get a direct measure of wait time. This makes sense; a voter will not remember if they were in line for 6 minutes versus 7. Instead, the surveys ask for a binned response.</p>
<!-- Figure or example -->
<p>Having calculated wait time data for the MIT Election Data and Sciences Lab before (the 2016 data might be my own work? I can’t be sure), I know a little bit about how this is usually done.</p>
<!-- Method. -->
<p>I think we can do better.</p>
<p>Think about it this way. There is a true wait time, but we don’t observe it. Instead we observe an interval-censored version of the wait time. The true wait time is estimated by imputing the midpoint of a bin, but that will only be a good estimate of the mean within the bit if the true wait times (again, unobserved) are symmetrically distributed within the bin. Given what we ordinarily assume about wait times (they are the wait times between Poisson processes, ordinarily modeled with an always-decreasing exponential distribution), this symmetric assumption could be better.</p>
<!-- Graphic. -->
<p>There’s a likelihood-based way to get at this. Rather than trust the censored data as it is, we could model the unobserved data using the censored data as a noisy indicator. In other words, what is the likely distribution of wait times, given the pattern in censored wait times that we see?</p>
<div id="new-thoughts-notes-to-self" class="section level1">
<h1>(New thoughts) notes to self</h1>
<p>The time you wait is f(arrivals, drops, departures):</p>
<p>(arrival - dropout) / (departure)</p>
</div>
<div id="setting-up-the-latent-variable-model" class="section level1">
<h1>Setting up the latent variable model</h1>
<p>Suppose there is a true wait time <span class="math inline">\(\omega\)</span> for voter <span class="math inline">\(i\)</span> in state <span class="math inline">\(s\)</span>. We assume <span class="math inline">\(\omega_{i}\)</span> is an Exponential draw from the distribution of wait times in state <span class="math inline">\(s\)</span>,
<span class="math display">\[\begin{align}
  \omega_{i} &amp;\sim \mathrm{Exponential}(\lambda_{s[i]}),
\end{align}\]</span>
where <span class="math inline">\(\lambda_{s}\)</span> is the rate parameter and <span class="math inline">\(\beta = \dfrac{1}{\lambda_{s}}\)</span> is the mean wait time in state <span class="math inline">\(s\)</span>.</p>
<p>Wait times are measured in surveys using discrete categories to represent a range of wait times. Let <span class="math inline">\(y_{i}\)</span> be the discrete measure of wait time for voter <span class="math inline">\(i\)</span>. If there are <span class="math inline">\(K\)</span> total categories, then the probability that <span class="math inline">\(y_{i} = k\)</span> is given by a difference in cumulative Exponential functions.
<span class="math display">\[\begin{align}
  \mathrm{Pr}(y_{i} = k) &amp;= 1 - e^{}
\end{align}\]</span>
which is the sum of the probability mass between the lower bound <span class="math inline">\((k^{-})\)</span> and upper bound <span class="math inline">\((k^{+})\)</span> of category <span class="math inline">\(k\)</span>. This is equivalent of taking the CDF at <span class="math inline">\(k^{+}\)</span> minus the CDF at <span class="math inline">\(k^{-}\)</span>.
<!-- but gotta get the boundary minus one situation sorted out. Use graphics for the intuition. -->
The foundation for this setup is a lot like logistic regression.</p>
<p>The observed wait time is measured in ordinal bins. As long as <span class="math inline">\(\omega_i\)</span> is a random variable from the Exponential process, then its falling into a particular bin can be represented as a categorical outcome.
<!-- or is it an ordered thing? -->
<span class="math display">\[\begin{align}
  y_{i} &amp;\sim \mathrm{Categorical}\left( \pi_{k} \right)
\end{align}\]</span>
The probability of being in category <span class="math inline">\(k\)</span> is given by the difference in CDFs.
<span class="math display">\[\begin{align}
  \pi_{k} &amp;= \displaystyle e^{-\lambda_{s} }\sum_{r=k^{-}}^{k^{+}}{\frac {\lambda_{s}^{r}}{r!}}
\end{align}\]</span></p>
</div>
<div id="or-can-we-do-it-directly" class="section level1">
<h1>Or can we do it directly</h1>
<p><span class="math inline">\(y_{i}\)</span> is a piecewise categorical function of the true wait time.
<!-- except this isn't piecewise -->
<span class="math display">\[\begin{align}
  y_{i} = I\left( k^{-} &lt; \omega_{i} &lt; k^{*} \right), \text{ for } k \in \left\{1, 2, \ldots, K \right\}
\end{align}\]</span></p>
<p>And <span class="math inline">\(\omega_{i}\)</span> is a Exponential draw from the state mean wait.
<span class="math display">\[\begin{align}
  \omega_{i} &amp;\sim \mathrm{Exponential}(\lambda_{s[i]}),
\end{align}\]</span></p>
<p>From here all we have to do is give <span class="math inline">\(\lambda_{s}\)</span> its own prior. We can do independent priors to start with,
<span class="math display">\[\begin{align}
  \lambda_{s} &amp;\sim \mathrm{Gamma}\left(\alpha, \beta \right)
\end{align}\]</span></p>
<p>The model of <span class="math inline">\(\lambda_{s}\)</span> could easily be improved by including a regression on state-level covariates. This would have the effect of pooling observations from data-poor states toward the trend suggested by data-rich states.</p>
</div>
<div id="prediction-waits-arent-as-long" class="section level1">
<h1>Prediction: waits aren’t as long</h1>
</div>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Michael DeCrescenzo </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=/2019/2019-03-21_bayesian-wait-times/>/2019/2019-03-21_bayesian-wait-times/</span>
            </p>
            
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="/tags/election-administration/">
                    #Election Administration</a></span>
            
            <span class="tag"><a href="/tags/bayesian-statistics/">
                    #Bayesian statistics</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="/2019/2019-02-23_gerber-green-kaplan/" class="prev" rel="prev" title="Experimentalists Agree! When Flat Priors Lead to Worse Learning"><i class="iconfont icon-left"></i>&nbsp;Experimentalists Agree! When Flat Priors Lead to Worse Learning</a>
         
        
        <a href="/2019/2019-05-07_effect-distributions/" class="next" rel="next" title="The Model is Itself a Hierarchical Variable">The Model is Itself a Hierarchical Variable&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2016–2019</span>
        
         
            <span class="author" itemprop="copyrightHolder"><a href="/">Michael DeCrescenzo</a> | </span> 
         

         
    <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
